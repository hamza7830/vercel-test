{
  "version": 2,
  "public": false,
  "github": { "enabled": false },
  "regions": ["lhr1"],

  "builds": [
    {
      "src": "code/api/*/handler.py",
      "use": "@vercel/python",
      "config": {
        "pythonVersion": "3.11",
        "includeFiles": [
          "code/api/brand-sentiment/pipeline.py",
          "code/api/brand-sentiment/requirements.txt"
        ]
      }
    }
  ],

  "routes": [
    { "src": "/api/([^/]+)/?$", "dest": "/code/api/$1/handler.py" },
    { "src": "/api/([^/]+)/([^/]+)/?$", "dest": "/code/api/$1/$2/handler.py" }
  ]
}
